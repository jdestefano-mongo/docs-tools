!function(){"use strict";var t="accordion--collapsed";function e(e){e.classList.toggle(t);var n=e.querySelector(".accordion__control");n.innerHTML="Expand"===n.innerHTML?"Collapse":"Expand"}var n=Object.freeze({setup:function(){for(var t=document.getElementsByClassName("accordion"),n=0;n<t.length;n+=1){var a=t[n];a.querySelector(".accordion__button").addEventListener("click",e.bind(this,a))}}});var a=Object.freeze({setup:function(){var t=document.getElementById("showNav");t&&(t.onclick=function(){document.getElementById("sphinxsidebar").style.display="block",document.getElementById("left-column").style.display="flex",document.getElementById("showNav").style.display="none"});var e=document.getElementById("closeNav");e&&(e.onclick=function(){document.getElementById("showNav").style.display="flex",document.getElementById("left-column").style.display="none"})}});function o(t){!function(t){return Boolean(t.getElementsByClassName("linenos").length)}(t)?function(t){return Boolean(t.getElementsByClassName("caption-text").length)}(t)&&function(t){var e=t.getElementsByClassName("button-row")[0],n=t.getElementsByClassName("code-block-caption")[0];console.log("MOVING BELOW CAPTION"),n.parentNode.insertBefore(e,n.nextSibling)}(t):function(t){var e=t.getElementsByClassName("button-row")[0],n=t.getElementsByClassName("highlighttable")[0].childNodes[0],a=document.createElement("tr"),o=document.createElement("td"),r=document.createElement("td");o.className="linenos-button-row-spacer",n.insertBefore(a,n.firstChild),a.appendChild(o),a.appendChild(r),r.appendChild(e)}(t)}var r=Object.freeze({setup:function(){for(var t=0,e=document.getElementsByClassName("button-code-block");t<e.length;t+=1){var n=e[t];Boolean(n.getElementsByClassName("button-row")[0])&&o(n)}}});function i(t){return!t.siblings("ul:not(.simple)").length}function s(t){for(var e=[],n=0;n<t.length;n+=1)e.push(t[n]);return e}function l(t){var e=window.docsExcludedNav;if(!e||!e.length)return!1;for(var n=0;n<e.length;n+=1)if(-1!==t[0].href.indexOf(e[n]))return!0;return!1}var u=function(){this.listeners=[]};u.prototype.listen=function(t){this.listeners.push(t)},u.prototype.dispatch=function(t){for(var e=0;e<this.listeners.length;e+=1)this.listeners[e](t)};var c="code-button__tooltip--active",d="code-button__tooltip--inactive";function p(t){return Boolean(t.getElementsByClassName("copyable-code-block")[0])}var h=Object.freeze({setup:function(){for(var t=s(document.getElementsByClassName("button-code-block")).filter(p),e=function(){var t=a[n],e=t.getElementsByClassName("highlight")[0];if(!e)return{};var o=t.getElementsByClassName("button-row")[0].getElementsByClassName("code-button--copy")[0];if(!o)return{};var r=document.createElement("div");r.innerText="copied",r.classList.add("code-button__tooltip"),r.classList.add(d);var i=-1;o.appendChild(r),o.addEventListener("click",function(){var t,n,a,o=document.createElement("textarea");o.style.position="fixed",document.body.appendChild(o),o.value=e.innerText.trim(),o.select();try{if(!document.execCommand("copy"))throw new Error("Failed to copy");r.classList.replace(d,c),t=function(){r.classList.replace(c,d)},a=1500,(n=i)>=0&&window.clearTimeout(n),i=window.setTimeout(t,a)}catch(t){console.error(t)}document.body.removeChild(o)})},n=0,a=t;n<a.length;n+=1){var o=e();if(o)return o.v}}});var m=Object.freeze({setup:function(t){if(void 0===window.history||void 0===document.querySelectorAll||void 0===document.body.classList||void 0===(new XMLHttpRequest).responseURL)return!1;var e=document.querySelector(".sphinxsidebarwrapper"),n=document.querySelector(".body"),a={};function o(){void 0!==a.timeoutID&&window.clearTimeout(a.timeoutID),void 0!==a.xhr&&a.xhr.abort(),a={}}function r(r,i){void 0===r&&console.error("Going to undefined path"),o(),n.classList.add("loading"),a.timeoutID=window.setTimeout(function(){n.classList.remove("loading"),a.timeoutID=-1},1e4);var s=new Date;a.xhr=function(t,e){var n=new XMLHttpRequest;n.onload=function(){n.status>=200&&n.status<400?(e.success(n.responseText,n.responseURL),e.complete()):(e.error(),e.complete())},n.onerror=function(){e.error(),e.complete()},n.open("GET",t,!0);try{n.send()}catch(t){e.error(),e.complete()}}(r,{complete:function(){o()},error:function(t){console.error("Failed to load "+r),window.location=r},success:function(a,o){var r=new Date-s;n.classList.remove("loading"),i&&window.history.pushState({href:o},"",o);var l=document.createElement("html");l.innerHTML=a;var u=l.querySelector("title").textContent,c=l.querySelector(".body"),d=l.querySelector(".sphinxsidebarwrapper");r>62.5&&c.classList.add("loading"),n.parentElement.replaceChild(c,n),n=c,e.parentElement.replaceChild(d,e),e=d,document.title=u,t.update(),window.history.onnavigate&&window.history.onnavigate(),window.setTimeout(function(){n.classList.remove("loading"),i&&window.scroll(0,0)},1)}})}window.history.replaceState({href:window.location.href},document.querySelector("title").textContent,window.location.href);var s=document.querySelectorAll(".sphinxsidebarwrapper > ul a.reference.internal");function u(t){0!==t.button||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),r(t.currentTarget.href,!0))}for(var c=0;c<s.length;c+=1){var d=s[c];(i($(d))||l($(d)))&&d.addEventListener("click",u)}return window.onpopstate=function(t){null!==t.state&&r(t.state.href,!1)},!0}});function f(){}function g(t){for(var e,n,a=arguments,o=1,r=arguments.length;o<r;o++)for(e in n=a[o])t[e]=n[e];return t}function v(t,e){e.appendChild(t)}function y(t,e,n){e.insertBefore(t,n)}function b(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function S(t,e,n){t.addEventListener(e,n,!1)}function C(t,e,n){t.removeEventListener(e,n,!1)}function E(){return Object.create(null)}function I(t){this.destroy=f,this.fire("destroy"),this.set=this.get=f,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function N(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function L(t,e,n,a,o){for(var r in e)if(n[r]){var i=a[r],s=o[r],l=e[r];if(l)for(var u=0;u<l.length;u+=1){var c=l[u];c.__calling||(c.__calling=!0,c.call(t,i,s),c.__calling=!1)}}}function x(t,e){t._observers={pre:E(),post:E()},t._handlers=E(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function B(t){for(;t&&t.length;)t.shift()()}var T={destroy:I,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var a=0;a<n.length;a+=1)n[a].call(this,e)},observe:function(t,e,n){var a=n&&n.defer?this._observers.post:this._observers.pre;return(a[t]||(a[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=a[t].indexOf(e);~n&&a[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(g({},t)),this.root._lock||(this.root._lock=!0,B(this.root._beforecreate),B(this.root._oncreate),B(this.root._aftercreate),this.root._lock=!1)},teardown:I,_recompute:f,_set:function(t){var e=this._state,n={},a=!1;for(var o in t)N(t[o],e[o])&&(n[o]=a=!0);a&&(this._state=g({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(L(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),L(this,this._observers.post,n,this._state,e)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}};function k(t){x(this,t),this._state=g({name:"",caption:"",answer:null},t.data),this._recompute({answer:1},this._state),this._fragment=function(t,e){var n,a,o,r,i,s,l,u;function c(t){e.change(!0)}function d(t){e.change(!1)}return{c:function(){n=w("div"),a=_("\n"),o=w("div"),r=w("span"),s=_("\n    "),l=w("span"),this.h()},h:function(){r.className=i="switch fa fa-thumbs-up good "+t.upvoteSelected,S(r,"click",c),l.className=u="switch fa fa-thumbs-down bad "+t.downvoteSelected,S(l,"click",d)},m:function(e,i){y(n,e,i),n.innerHTML=t.caption,y(a,e,i),y(o,e,i),v(r,o),v(s,o),v(l,o)},p:function(t,e){t.caption&&(n.innerHTML=e.caption),t.upvoteSelected&&i!==(i="switch fa fa-thumbs-up good "+e.upvoteSelected)&&(r.className=i),t.downvoteSelected&&u!==(u="switch fa fa-thumbs-down bad "+e.downvoteSelected)&&(l.className=u)},u:function(){n.innerHTML="",b(n),b(a),b(o)},d:function(){C(r,"click",c),C(l,"click",d)}}}(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}g(k.prototype,{change:function(t){this.set({answer:t}),this.fire("change",t)}},T),k.prototype._recompute=function(t,e){t.answer&&(N(e.upvoteSelected,e.upvoteSelected=!0===e.answer?"selected":"")&&(t.upvoteSelected=!0),N(e.downvoteSelected,e.downvoteSelected=function(t){return!1===t?"selected":""}(e.answer))&&(t.downvoteSelected=!0))};function A(t){x(this,t),this._state=g({name:"",caption:"",answer:""},t.data),this._fragment=function(t,e){var n,a=!1;function o(){a=!0,e.set({answer:n.value}),a=!1}function r(t){var n=e.get();e.fire("change",n.answer)}return{c:function(){n=w("textarea"),this.h()},h:function(){S(n,"input",o),n.placeholder=t.caption,S(n,"input",r)},m:function(e,a){y(n,e,a),n.value=t.answer},p:function(t,e){a||(n.value=e.answer),t.caption&&(n.placeholder=e.caption)},u:function(){b(n)},d:function(){C(n,"input",o),C(n,"input",r)}}}(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}function q(t){var e=document.createElement("script");e.type="application/javascript",e.src=t,document.body.appendChild(e)}g(A.prototype,{change:function(){this.fire("change",this.get("answer"))}},T);var O={open:function(){"Initial"===this.get("state")&&(this.set({answers:{}}),this.set({state:"NotVoted"}))},toggle:function(){this.set({answers:{}}),"Initial"===this.get("state")?this.set({state:"NotVoted"}):this.set({state:"Initial"})},submit:function(){var t=this.get("state");if("boolean"!=typeof t)throw new Error("Assertion failed: Feedback submitted without vote");for(var e=new Map,n=this.get("answers"),a=0,o=Object.keys(n);a<o.length;a+=1){var r=o[a],i=n[r];null!=i&&e.set(r,i)}this.set({state:"Pending"}),this.fire("submit",{vote:t,fields:e})},rate:function(t){this.set({state:t})},addQuestion:function(t,e,n){return this.set({questions:this.get("questions").concat({type:t,name:e,caption:n})}),this},update:function(t,e){this.get("answers")[t]=e},showCollectorDialog:function(){var t=this;if(window.ATL_JQ_PAGE_PROPS={triggerFunction:function(t){window.setTimeout(function(){return t()},1)},fieldValues:{summary:'Comment on: "'+this.get("project")+"/"+this.get("pagename")+'"'}},window.jQuery)q(this.get("jiraurl"));else{var e=document.createElement("script");e.type="application/javascript",e.integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=",e.setAttribute("crossorigin","anonymous"),e.src="https://code.jquery.com/jquery-2.2.4.min.js",e.onload=function(){q(t.get("jiraurl"))},document.body.appendChild(e)}}};function j(t,e){var n;return{c:function(){n=w("span"),this.h()},h:function(){n.className="fa fa-comments deluge-comment-icon"},m:function(t,e){y(n,t,e)},u:function(){b(n)},d:f}}function H(t,e){var n;return{c:function(){n=w("span"),this.h()},h:function(){n.className="fa fa-angle-down deluge-close-icon"},m:function(t,e){y(n,t,e)},u:function(){b(n)},d:f}}function R(t,e){var n;return{c:function(){(n=w("p")).textContent="Thank you for your feedback!"},m:function(t,e){y(n,t,e)},u:function(){b(n)},d:f}}function U(t,e){var n;return{c:function(){(n=w("li")).textContent="We're sorry! Please help us improve this page."},m:function(t,e){y(n,t,e)},u:function(){b(n)},d:f}}function M(t,e,n,a,o){var r,i=Q(t,e,n,a),s=i&&i(t,e,n,a,o);return{c:function(){r=w("li"),s&&s.c()},m:function(t,e){y(r,t,e),s&&s.m(r,null)},p:function(t,e,n,a,l){i===(i=Q(e,n,a,l))&&s?s.p(t,e,n,a,l):(s&&(s.u(),s.d()),(s=i&&i(e,n,a,l,o))&&s.c(),s&&s.m(r,null))},u:function(){b(r),s&&s.u()},d:function(){s&&s.d()}}}function P(t,e,n,a,o){var r=new k({root:o.root,data:{name:n.name,caption:n.caption}});r.on("change",function(t){var e=i.questions[i.question_index];o.update(e.name,t)});var i={questions:e,question_index:a};return{c:function(){r._fragment.c()},m:function(t,e){r._mount(t,e)},p:function(t,e,n,a,o){var s={};t.questions&&(s.name=a.name),t.questions&&(s.caption=a.caption),r._set(s),i.questions=n,i.question_index=o},u:function(){r._unmount()},d:function(){r.destroy(!1)}}}function D(t,e,n,a,o){var r=new A({root:o.root,data:{name:n.name,caption:n.caption}});r.on("change",function(t){var e=i.questions[i.question_index];o.update(e.name,t)});var i={questions:e,question_index:a};return{c:function(){r._fragment.c()},m:function(t,e){r._mount(t,e)},p:function(t,e,n,a,o){var s={};t.questions&&(s.name=a.name),t.questions&&(s.caption=a.caption),r._set(s),i.questions=n,i.question_index=o},u:function(){r._unmount()},d:function(){r.destroy(!1)}}}function V(t,e){var n,a,o,r;function i(t){e.showCollectorDialog()}return{c:function(){n=w("p"),a=_("If this page contains an error, you may "),(o=w("a")).textContent="report the problem on Jira.",this.h()},h:function(){o.className="deluge-fix-button jira-link jirafeedback",o.target="_blank",o.title=r="Report a problem with "+t.pagename+" on Jira",S(o,"click",i)},m:function(t,e){y(n,t,e),v(a,n),v(o,n)},p:function(t,e){t.pagename&&r!==(r="Report a problem with "+e.pagename+" on Jira")&&(o.title=r)},u:function(){b(n)},d:function(){C(o,"click",i)}}}function W(t,e){var n;return{c:function(){(n=w("p")).textContent="Submitting feedback..."},m:function(t,e){y(n,t,e)},p:f,u:function(){b(n)},d:f}}function F(t,e){var n,a,o;function r(t){e.rate(!0)}function i(t){e.rate(!1)}return{c:function(){(n=w("a")).textContent="Yes",a=_("\n        "),(o=w("a")).textContent="No",this.h()},h:function(){n.id="rate-up",n.className="deluge-vote-button",S(n,"click",r),o.id="rate-down",o.className="deluge-vote-button",S(o,"click",i)},m:function(t,e){y(n,t,e),y(a,t,e),y(o,t,e)},p:f,u:function(){b(n),b(a),b(o)},d:function(){C(n,"click",r),C(o,"click",i)}}}function z(t,e){for(var n,a,o,r,i,s,l,u,c=!1===t.state&&U(),d=t.questions,p=[],h=0;h<d.length;h+=1)p[h]=M(t,d,d[h],h,e);function m(t){e.toggle()}function f(t){e.submit()}return{c:function(){n=w("div"),a=w("ul"),c&&c.c(),o=document.createComment("");for(var t=0;t<p.length;t+=1)p[t].c();r=_("\n\n            "),i=w("div"),(s=w("button")).textContent="Cancel",l=_("\n                "),(u=w("button")).textContent="Submit",this.h()},h:function(){var t,e;t="ref",e=!0,a.setAttribute(t,e),S(s,"click",m),u.className="primary",S(u,"click",f),i.className="deluge-button-group",n.className="deluge-questions"},m:function(t,e){y(n,t,e),v(a,n),c&&c.m(a,null),v(o,a);for(var d=0;d<p.length;d+=1)p[d].m(a,null);v(r,n),v(i,n),v(s,i),v(l,i),v(u,i)},p:function(t,n){!1===n.state?c||((c=U()).c(),c.m(a,o)):c&&(c.u(),c.d(),c=null);var r=n.questions;if(t.questions){for(var i=0;i<r.length;i+=1)p[i]?p[i].p(t,n,r,r[i],i):(p[i]=M(n,r,r[i],i,e),p[i].c(),p[i].m(a,null));for(;i<p.length;i+=1)p[i].u(),p[i].d();p.length=r.length}},u:function(){b(n),c&&c.u();for(var t=0;t<p.length;t+=1)p[t].u()},d:function(){c&&c.d(),function(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}(p),C(s,"click",m),C(u,"click",f)}}}function Q(t,e,n,a){return"binary"===n.type?P:"freeform"===n.type?D:null}function J(t){return"Voted-Down"===t.state?V:"Pending "==t.state?W:"NotVoted"===t.state?F:"boolean"==typeof t.state?z:null}function G(t){x(this,t),this._state=g({project:"",pagename:"",state:"Initial",jiraurl:"https://jira.mongodb.org/s/en_UScn8g8x/782/6/1.2.5/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",questions:[],answers:{}},t.data),this._recompute({state:1},this._state),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var n,a,o,r,i,s,l,u,c="Initial"===t.state&&j(),d="Initial"!==t.state&&H();function p(t){e.toggle()}var h=("Voted-Up"===t.state||"Voted-Down"===t.state)&&R(),m=J(t),f=m&&m(t,e);return{c:function(){n=w("div"),a=w("div"),c&&c.c(),o=_("\n\n        "),(r=w("span")).textContent="Was this page helpful?",i=_("\n\n    "),d&&d.c(),s=_("\n\n    "),l=w("div"),h&&h.c(),u=_("\n\n    "),f&&f.c(),this.h()},h:function(){r.className="deluge-helpful",a.className=t.delugeHeaderClass,S(a,"click",p),l.className=t.delugeBodyClass,n.className=t.delugeClass},m:function(t,e){y(n,t,e),v(a,n),c&&c.m(a,null),v(o,a),v(r,a),v(i,a),d&&d.m(a,null),v(s,n),v(l,n),h&&h.m(l,null),v(u,l),f&&f.m(l,null)},p:function(t,r){"Initial"===r.state?c||((c=j()).c(),c.m(a,o)):c&&(c.u(),c.d(),c=null),"Initial"!==r.state?d||((d=H()).c(),d.m(a,null)):d&&(d.u(),d.d(),d=null),t.delugeHeaderClass&&(a.className=r.delugeHeaderClass),"Voted-Up"===r.state||"Voted-Down"===r.state?h||((h=R()).c(),h.m(l,u)):h&&(h.u(),h.d(),h=null),m===(m=J(r))&&f?f.p(t,r):(f&&(f.u(),f.d()),(f=m&&m(r,e))&&f.c(),f&&f.m(l,null)),t.delugeBodyClass&&(l.className=r.delugeBodyClass),t.delugeClass&&(n.className=r.delugeClass)},u:function(){b(n),c&&c.u(),d&&d.u(),h&&h.u(),f&&f.u()},d:function(){c&&c.d(),d&&d.d(),C(a,"click",p),h&&h.d(),f&&f.d()}}}(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,B(this._beforecreate),B(this._oncreate),B(this._aftercreate),this._lock=!1)}g(G.prototype,O,T),G.prototype._recompute=function(t,e){t.state&&(N(e.delugeClass,e.delugeClass=function(t){return"Initial"===t?"deluge":"deluge deluge-expanded"}(e.state))&&(t.delugeClass=!0),N(e.delugeHeaderClass,e.delugeHeaderClass=function(t){return"Initial"===t?"deluge-header":"deluge-header deluge-header-expanded"}(e.state))&&(t.delugeHeaderClass=!0),N(e.delugeBodyClass,e.delugeBodyClass=function(t){return"Initial"===t?"deluge-body":"deluge-body deluge-body-expanded"}(e.state))&&(t.delugeBodyClass=!0))};var Y=function(t,e,n){var a=this;this.project=t,this.path=e,this.app=new G({target:n,data:{state:"Initial",project:t,pagename:e}}),this.app.on("submit",function(t){a.sendRating(t.vote,t.fields).then(function(){t.vote?a.app.set({state:"Voted-Up"}):a.app.set({state:"Voted-Down"})}).catch(function(t){console.error("Error submitting feedback")})})};Y.prototype.askQuestion=function(t,e){return this.app.addQuestion("binary",t,e),this},Y.prototype.askFreeformQuestion=function(t,e){return this.app.addQuestion("freeform",t,e),this},Y.prototype.sendRating=function(t,e){var n=this;return new Promise(function(a,o){e.set("v",t),e.set("p",n.project+"/"+n.path);var r=function(t,e){var n=[];return e.forEach(function(t,e){n.push(encodeURIComponent(e)+"="+encodeURIComponent(JSON.stringify(t)))}),t+"?"+n.join("&")}("http://deluge.us-east-1.elasticbeanstalk.com/",e),i=new Image;i.onload=function(){return a()},i.onerror=function(){return o()},i.src=r})},Y.prototype.open=function(){this.app.open()};var K=null,X={"meta/404":!0,search:!0};var Z=Object.freeze({init:function(){K=document.body.getAttribute("data-project")},setup:function(){void 0!==window.localStorage&&function(){var t=document.getElementsByClassName("body");if(t.length){var e=t[0].getAttribute("data-pagename");if(!Object.prototype.hasOwnProperty.call(X,e)){var n=document.getElementById("rating-panel");n&&(n.innerText="",n&&new Y(K,e,n).askFreeformQuestion("reason","What were you looking for?").askQuestion("findability","Did you find it?").askQuestion("accuracy","Was the information you found <strong>accurate</strong>?").askQuestion("clarity","Was the information <strong>clear</strong>?").askQuestion("fragmentation","Was the information you needed <strong>all on one page</strong>?"))}}}()}}),tt=new u;function et(){return JSON.parse(window.localStorage.getItem("tabPref"))||{}}function nt(t,e){var n=et();e?(n.pages||(n.pages={}),n.pages[window.location.pathname]=t.tabId):n[t.type]=t.tabId,window.localStorage.setItem("tabPref",JSON.stringify(n))}var at={},ot=function(t,e,n,a){this.type=t,this.tabStrips=n,this.tabContents=a,this.anonymous=e,this.tabIds={}};ot.prototype.getFirstTabId=function(){var t=this.tabStrips[0].querySelector(".tab-strip__element[aria-selected=true]");return t?t.getAttribute("data-tabid"):null},ot.prototype.setup=function(){var t=this;if(0!==this.tabStrips.length){!function(){if(document.querySelector(".tabs-top")){var t=$(".tab-strip--singleton"),e=t.first();t.slice(1).detach(),e.detach().insertAfter("h1").first()}}();for(var e=0,n=t.tabStrips;e<n.length;e+=1)for(var a=function(){var e=i[r];t.tabIds[e.getAttribute("data-tabid")]=!0,e.onclick=function(n){var a=e.getBoundingClientRect(),o=window.scrollY-a.y,r=n.target.getAttribute("data-tabid"),i={};if(i.tabId=r,i.type=t.type,r){t.update(r,!0);var s=e.getBoundingClientRect();window.scrollTo(s.x,s.y+o),n.preventDefault()}}},o=n[e],r=0,i=o.querySelectorAll("[data-tabid]");r<i.length;r+=1)a();this.update(null,!1)}},ot.prototype.update=function(t,e){if(0!==this.tabStrips.length){if(!t){var n=et();this.anonymous&&n.pages&&n.pages[window.location.pathname]?t=n.pages[window.location.pathname]:n[this.type]&&(t=n[this.type])}(t&&this.tabIds[t]||(t=this.getFirstTabId()))&&tt.dispatch({isUserAction:e,tabId:t,type:this.type})}},ot.prototype.showHideSelectedTab=function(t){for(var e=0,n=this.tabStrips;e<n.length;e+=1){var a=n[e],o=$(a.querySelector('[data-tabid="'+t+'"]'));if(o.length){var r=o.parent("ul"),i=$(a.querySelector(".dropdown-toggle")),s=$(a.querySelector(".dropdown"));r.hasClass("dropdown-menu")?(i.text(""+o.first().text()).append('<span class="caret"></span>'),s.attr("aria-selected",!0).siblings().attr("aria-selected",!1)):(o.attr("aria-selected",!0).siblings().attr("aria-selected",!1),i.text("Other ").append('<span class="caret"></span>'))}}for(var l="tabpanel-"+t,u=0,c=this.tabContents;u<c.length;u+=1)for(var d=0,p=c[u].children;d<p.length;d+=1){var h=p[d];h.classList.contains(l)?h.style.display="block":h.style.display="none"}},ot.register=function(t){var e=s(t.getElementsByClassName("tab-strip--singleton")),n=t.querySelector(".tabs__content"),a=t.getAttribute("data-tab-preference"),o=!1;if(!a){var r=t.querySelector("[data-tabid]");if(!r)return;a="anonymous-"+r.getAttribute("data-tabid"),o=!0}if(at[a]){var i=at[a];return i.tabStrips=i.tabStrips.concat(e),void i.tabContents.push(n)}var l=new ot(a,o,e,[n],!1);at[a]=l},tt.listen(function(t){var e=at[t.type];e&&(t.isUserAction&&nt(t,e.anonymous),e.showHideSelectedTab(t.tabId))});var rt=Object.freeze({tabsEventDispatcher:tt,getTabPref:et,setTabPref:nt,setup:function(){at={};for(var t=document.getElementsByClassName("tabs"),e=0;e<t.length;e+=1)ot.register(t[e]);for(var n=0,a=Object.keys(at);n<a.length;n+=1){var o=a[n];at[o].setup()}}}),it=[];function st(){var t=document.body.clientHeight-window.innerHeight,e=document.documentElement.scrollTop/t;e=(document.documentElement.scrollTop+.8*e*window.innerHeight)/t;for(var n=[1/0,null],a=0,o=it;a<o.length;a+=1){var r=o[a],i=r[0],s=r[1];s.classList.remove("active");var l=i.offsetTop/t,u=Math.abs(l-e);u<=n[0]&&(n=[u,s])}n[1]&&n[1].classList.add("active")}function lt(t){var e=t.target.getAttribute("data-tab-preference");e&&nt({tabId:e,type:"languages"},!1)}document.addEventListener("scroll",function(t,e){var n=null,a=null,o=null,r=0;function i(){r=Date.now(),o=null,a=t.apply.apply(t,n),o||(n=null)}return function(){for(var s=[],l=arguments.length;l--;)s[l]=arguments[l];var u=Date.now(),c=e-(u-r);return n=s,c<=0||c>e?(o&&(window.clearTimeout(o),o=null),r=u,a=t.apply(void 0,n),o||(n=null)):o||(o=window.setTimeout(i,c)),a}}(st,150));var ut=document.getElementsByClassName("show-current-language");tt.listen(function(t){if("languages"===t.type)for(var e=0;e<ut.length;e+=1)ut[e].innerText=t.tabId});var ct=Object.freeze({setup:function(){!function(){var t=document.querySelector(".left-toc");if(t){it.length=0;for(var e=0,n=t.querySelectorAll("a");e<n.length;e+=1){var a=n[e],o=a.getAttribute("href").slice(1);if(o){var r=document.getElementById(o);r&&it.push([r,a.parentElement])}}st()}}(),function(){var t=document.getElementsByClassName("guide-category-list")[0];if(t)for(var e=t.getElementsByClassName("guide__pill"),n=0;n<e.length;n+=1)e[n].onclick=lt}()}}),dt="lightbox__content--activated",pt="lightbox__content--scalable",ht=document.createElement("div");ht.className="lightbox__modal",ht.title="click to close";var mt=document.createElement("img");function ft(t){"keydown"===t.type&&"Escape"!==t.key||(mt.classList.remove(dt),ht.parentNode&&ht.parentNode.removeChild(ht))}function gt(t){var e=document.createElement("div"),n=document.createElement("div");e.className="lightbox__imageWrapper",n.className="lightbox__caption",n.innerText="click to enlarge",t.parentNode.replaceChild(e,t),e.appendChild(t),e.appendChild(n),e.addEventListener("click",function(){document.body.appendChild(ht),mt.src=t.src,mt.alt=t.alt+" — Enlarged",/\.svg$/.test(mt.src)?mt.classList.add(pt):mt.classList.remove(pt),ht.addEventListener("click",ft),setTimeout(function(){mt.classList.add(dt)},0)})}function vt(t,e){var n=e.naturalWidth*e.naturalHeight;e.clientWidth*e.clientHeight<.9*n&&(gt(e),t.classList.add("lightbox"))}mt.className="lightbox__content",ht.appendChild(mt);var yt=Object.freeze({setup:function(){for(var t=0,e=document.getElementsByClassName("lightbox");t<e.length;t+=1){var n=e[t];0!==n.children.length&&"IMG"===n.children[0].tagName&&gt(n.children[0])}for(var a=0,o=document.getElementsByClassName("figure");a<o.length;a+=1){var r=o[a];if(0!==r.children.length&&"IMG"===r.children[0].tagName&&!r.classList.contains("lightbox")){var i=r.children[0];i.complete?vt(r,i):i.addEventListener("load",vt.bind(null,r,i))}}document.addEventListener("keydown",ft)}}),bt="apiref-resource--collapsed";function wt(t,e){var n=null;t.addEventListener("mousedown",function(t){0===t.button&&(n=t)}),t.addEventListener("mouseup",function(t){if(0===t.button){var a=n;n=null,(!a||Math.abs(t.clientX-a.clientX)<50&&Math.abs(t.clientY-a.clientY)<50)&&e()}})}function _t(t,e){if(e.id){var n="#"+e.id;window.history.pushState({href:n},"",n)}e.classList[t](bt)}function St(){var t=document.location.hash.slice(1);if(t){var e=document.getElementById(t);e&&e.classList.contains("apiref-resource")&&_t("remove",e)}}window.addEventListener("hashchange",St,!1);var Ct=Object.freeze({setup:function(){for(var t=document.getElementsByClassName("apiref-resource__header"),e=0;e<t.length;e+=1){var n=t[e];wt(n,_t.bind(null,"toggle",n.parentElement))}St()}});function Et(t,e){tt.dispatch({isUserAction:!0,tabId:e.target.getAttribute("data-tabid"),type:t})}var It={};tt.listen(function(t){for(var e=0,n=It[t.type]||[];e<n.length;e+=1)for(var a=n[e].getElementsByClassName("guide__pill"),o=0;o<a.length;o+=1){a[o].getAttribute("data-tabid")===t.tabId?a[o].classList.add("guide__pill--active"):a[o].classList.remove("guide__pill--active")}});var Nt=Object.freeze({setup:function(){It={};for(var t=0,e=document.querySelectorAll(".pillstrip-declaration");t<e.length;t+=1){var n=e[t],a=n.getAttribute("data-tab-preference");a&&(void 0===It[a]&&(It[a]=[]),It[a].push(n))}for(var o=0,r=Object.keys(It);o<r.length;o+=1){for(var i=r[o],l=It[i],u={},c=[],d=0,p=document.querySelectorAll('.tabs[data-tab-preference="'+i+'"] > .tab-strip');d<p.length;d+=1){var h=p[d];h.style.display="none";for(var m=-1,f=s(h.querySelectorAll(".tab-strip__element[data-tabid]")),g=0,v=f=f.concat(s(h.querySelectorAll(".tab-strip__dropdown > li")));g<v.length;g+=1){var y=v[g];m+=1;var b=y.getAttribute("data-tabid");void 0===u[b]&&(u[b]=!0,c.splice(m,0,[b,y.innerText]))}}for(var w=Et.bind(void 0,i),_=0,S=l;_<S.length;_+=1)for(var C=S[_],E=0,I=c;E<I.length;E+=1){var N=I[E],L=N[0],x=N[1],B=document.createElement("li");B.className="guide__pill",B.setAttribute("data-tabid",L),B.innerText=x,B.onclick=w,C.appendChild(B)}}}});function Lt(t){return t.hasClass("current")}var xt=Object.freeze({setup:function(){var t=$(".sidebar a.current");(i(t)||l(t)||Lt(t))&&t.parent("li").addClass("selected-item"),t.parents("ul").each(function(t,e){$(e).css("display","block")}),$(".sphinxsidebarwrapper > ul li:not(.current) > ul:not(.current)").hide(),$(".sphinxsidebarwrapper").show(),$(".sphinxsidebarwrapper .toctree-l1").on("click","a",function(e){var n=$(e.currentTarget);i(n)||!n.parent().hasClass("selected-item")&&l(n)||(e.preventDefault(),n.parent().hasClass("current")?(n.parent().removeClass("current selected-item"),n.siblings("ul").slideUp()):(t.parent().removeClass("selected-item"),t.parents().add(t.siblings("ul")).each(function(t,n){var a=$(n);a.has(e.currentTarget).length||(a.is("ul")?a.removeClass("current").slideUp():a.removeClass("current"))}),n.parent().addClass("current"),n.siblings("ul").slideDown(function(){(i(n)||l(n)||Lt(t))&&n.parent("li").addClass("selected-item")}),t=n))}),$(".sphinxsidebarwrapper > ul ul a.reference").prepend(function(t){var e=$('<span class="expand-icon"></span>');return i($(this))||e.addClass("docs-expand-arrow"),e})}});function Bt(){var t,e,n,a,o,r,i,s;window._fs_debug=!1,window._fs_host="fullstory.com",window._fs_org="54YFM",window._fs_namespace="FS",t=window,e=document,n=window._fs_namespace,a="script",o="user",n in t&&t.console&&t.console.log?t.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((i=t[n]=function(t,e){i.q?i.q.push([t,e]):i._api(t,e)}).q=[],(r=e.createElement(a)).async=1,r.src="https://"+_fs_host+"/s/fs.js",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s),i.identify=function(t,e){i(o,{uid:t}),e&&i(o,e)},i.setUserVars=function(t){i(o,t)},i.identifyAccount=function(t,e){r="account",(e=e||{}).acctId=t,i(r,e)},i.clearUserCookie=function(t,n,a){if(!t||document.cookie.match("fs_uid=[`;`]*`[`;`]*`[`;`]*`"))for(n=e.domain;e.cookie="fs_uid=;domain="+n+";path=/;expires="+new Date(0).toUTCString(),!((a=n.indexOf("."))<0);)n=n.slice(a+1)}),function(t,e,n,a,o){if(!t[o]){for(var r=t[o]=[],i=0;i<n.length;i++){var s=n[i];r[s]=r[s]||function(t){return function(){var e=Array.prototype.slice.call(arguments);r.push([t,e])}}(s)}r.SNIPPET_VERSION="1.0.1";var l=e.createElement("script");l.type="text/javascript",l.async=!0,l.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/Dk30CC86ba0nATlK/"+o+".js";var u=e.getElementsByTagName("script")[0];u.parentNode.insertBefore(l,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],0,"delighted")}var $t=Object.freeze({initialize:Bt,setup:function(){window.delighted.survey()}}),Tt="guide__deploymentpill--active",kt="guide__pill",At="guide__deploymentpill",qt="show-current-deployment";function Ot(t){for(var e=document.getElementsByClassName(kt),n=0;n<e.length;n+=1){e[n].getAttribute("data-tabid")===t?e[n].classList.add(Tt):e[n].classList.remove(Tt)}document.getElementsByClassName(qt).length>0&&(document.getElementsByClassName(qt)[0].innerHTML=t)}function jt(t,e){var n=document.createElement("li");return n.classList.add(kt),n.classList.add(At),n.setAttribute("data-tabid",t),n.innerHTML=t,function(t){t.addEventListener("click",function(t){tt.dispatch({isUserAction:!0,tabId:t.target.innerHTML,type:"cloud"})})}(n),Ot(t),n}tt.listen(function(t){"cloud"===t.type&&Ot(t.tabId)});var Ht=Object.freeze({setup:function(){var t=document.getElementsByClassName("guide-prefs__deploy")[0];if(void 0!==t)if(0===document.getElementsByClassName("tabpanel-cloud").length&&document.getElementsByClassName("guide-prefs__deploy").length>0)document.getElementsByClassName("guide-prefs__deploy")[0].style.display="none";else{var e=et();void 0===e.cloud&&(e.cloud="local");var n,a=document.createElement("ul");a.classList.add("guide__pills"),a.classList.add("pillstrip-declaration"),a.setAttribute("role","tablist"),a.setAttribute("data-tab-preference","cloud"),a.appendChild(jt("cloud",e.cloud)),a.appendChild(jt("local",e.cloud)),t.appendChild(a),Ot(e.cloud),n=e.cloud,tt.dispatch({isUserAction:!0,tabId:n,type:"cloud"})}}}),Rt={};function Ut(t,e){return"pass-through"===e.type?e.value:t}Rt["local MongoDB"]={options:[{name:"authSource",type:"text"}],template:"mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]",templatePasswordRedactedShell:"mongodb://$[hostlist]/$[database]?$[options] --username $[username]",templateShell:"mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]"},Rt["local MongoDB with replica set"]={options:[{name:"replicaSet",type:"text"},{name:"authSource",type:"text"},{name:"ssl",type:"pass-through",value:"true"}],template:"mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]",templatePasswordRedactedShell:"mongodb://$[hostlist]/$[database]?$[options] --username $[username] --password",templateShell:"mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]"},Rt["Atlas (Cloud) v. 3.6"]={options:[],template:"mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]?retryWrites=true",templatePasswordRedactedShell:"mongodb+srv://$[hostlist]/$[database] --username $[username] --password",templateShell:"mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]"},Rt["Atlas (Cloud) v. 3.4"]={options:[{name:"replicaSet",type:"text"},{name:"authSource",type:"text"},{name:"ssl",type:"pass-through",value:"true"}],template:"mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]",templatePasswordRedactedShell:"mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password",templateShell:"mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password $[password]"};var Mt=/&lt;(?:(?:URISTRING(?:_(?:(?:SHELL_NOUSER)|(?:SHELL)))?)|(?:USERNAME))&gt;/g;var Pt=function(t,e){this.root=t,this.uriWriter=e,this.elementPairs=[],this.updateHostsFromUriWriter()},Dt={hosts:{configurable:!0},lastInput:{configurable:!0}};Dt.hosts.get=function(){return this.elementPairs.map(function(t){return t[0].value.trim()}).filter(function(t){return t})},Dt.lastInput.get=function(){return this.elementPairs[this.elementPairs.length-1][0]},Pt.prototype.updateHostsFromUriWriter=function(){this.elementPairs=[],this.root.innerText="";for(var t=0,e=this.uriWriter.loadState(this.uriWriter.loadCurrentState()).hostlist||[];t<e.length;t+=1){var n=e[t];this.addHost(n)}this.addHost()},Pt.prototype.addHost=function(t){var e=this,n=document.createElement("input");n.className="mongodb-form__input",n.placeholder="localhost:27017",n.value=t||"";var a=document.createElement("div");a.className="mongodb-form__status",n.oninput=function(){if(n.value)e.lastInput===n&&e.addHost();else if(e.lastInput!==n)return e.elementPairs=e.elementPairs.filter(function(t){return t[0]!==n}),e.root.removeChild(n),e.root.removeChild(a),void e.uriWriter.setHosts(e.hosts);try{!function(t){var e=/^\s*([^:\s]+)(?::(\d+))?\s*$/.exec(t);if(!e)throw new Error('Invalid host format: must match the format "hostname:port"');var n=parseInt(e[2],10);if(isNaN(n))throw new Error('Missing port: host must match the format "hostname:port"');if(n>65535)throw new Error("Port number is too large");e[1]}(n.value)}catch(t){return n.setCustomValidity(t.message),a.innerText=t.message,void a.classList.add("mongodb-form__status--invalid")}a.innerText="",a.classList.remove("mongodb-form__status--invalid"),n.setCustomValidity(""),e.uriWriter.setHosts(e.hosts)},this.root.appendChild(n),this.root.appendChild(a),this.elementPairs.push([n,a])},Object.defineProperties(Pt.prototype,Dt);var Vt=null,Wt=function(){this.uristowrite=[],this.usernamestowrite=[],this.uristowritepasswordredactedshell=[],this.uristowriteshell=[],this.urireplacestring="",this.options={},this.hostList=null,this.setupURIListeners(),this.loadTemplateEnv(),this.renderURI(),this.registerDispatch()};Wt.prototype.loadTemplateEnv=function(){void 0===this.loadState(this.loadCurrentState()).env&&("local"===this.loadCurrentState()||"undefined"===this.loadCurrentState()?this.saveState({env:"local MongoDB"},"local"):this.saveState({env:"Atlas (Cloud) v. 3.6"},"cloud"))},Wt.prototype.loadState=function(t){return"cloud"===t?JSON.parse(window.localStorage.getItem("uriwriter_atlas"))||{}:JSON.parse(window.localStorage.getItem("uriwriter_local"))||{}},Wt.prototype.saveState=function(t,e){"cloud"===e?window.localStorage.setItem("uriwriter_atlas",JSON.stringify(t)):window.localStorage.setItem("uriwriter_local",JSON.stringify(t))},Wt.prototype.loadCurrentState=function(){return window.localStorage.getItem("uriwriter_currentstate")},Wt.prototype.saveCurrentState=function(t){window.localStorage.setItem("uriwriter_currentstate",t)},Wt.prototype.addValue=function(t,e){var n=this.loadState(this.loadCurrentState());"atlaspasteduri"!==t&&"env"!==t&&delete n.atlaspasteduri,n[t]=e,this.saveState(n,this.loadCurrentState())},Wt.prototype.setupURIListeners=function(){!function(){for(var t=document.getElementsByTagName("pre"),e=0;e<t.length;e+=1)t[e].innerHTML=t[e].innerHTML.replace(Mt,'<span class="uristring-element">$&</span>')}();for(var t=document.getElementsByClassName("uristring-element"),e=0;e<t.length;e+=1)t[e].innerHTML.indexOf("&lt;URISTRING&gt;")>-1&&this.uristowrite.push(t[e]),t[e].innerHTML.indexOf("&lt;USERNAME&gt;")>-1&&this.usernamestowrite.push(t[e]),t[e].innerHTML.indexOf("&lt;URISTRING_SHELL&gt;")>-1&&this.uristowriteshell.push(t[e]),t[e].innerHTML.indexOf("&lt;URISTRING_SHELL_NOUSER&gt;")>-1&&this.uristowritepasswordredactedshell.push(t[e])},Wt.prototype.writeToPlaceholders=function(){for(var t,e=0;e<this.uristowrite.length;e+=1){var n="'"===(t=this.uristowrite[e].innerHTML).charAt(0)||'"'===t.charAt(0)?t.charAt(0):"";this.uristowrite[e].innerHTML=""+n+this.urireplacestring+n}for(var a=0;a<this.uristowritepasswordredactedshell.length;a+=1)this.uristowritepasswordredactedshell[a].innerHTML=this.urireplacestringPasswordRedactedShell;for(var o=0;o<this.uristowriteshell.length;o+=1)this.uristowriteshell[o].innerHTML=this.urireplacestringShell;for(var r=0;r<this.usernamestowrite.length;r+=1)this.usernamestowrite[r].innerHTML=this.username},Wt.prototype.setEnvironment=function(t){var e=t.startsWith("Atlas (Cloud)");e?this.saveCurrentState("cloud"):this.saveCurrentState("local");var n=this.loadState(this.loadCurrentState()),a=Boolean(document.getElementById("uriwriter"));if(e&&a&&(document.getElementsByClassName("atlascontrols__status")[0].style.display="none",void 0!==n.atlaspasteduri))return this.parseIncomingAtlasString(n.atlaspasteduri),this.renderURI(),void this.populateForm();(void 0!==n&&void 0!==n.env&&n.env.startsWith("Atlas (Cloud)")||e)&&a&&this.hostList.updateHostsFromUriWriter(),this.addValue("env",t),this.renderURI(),a&&this.populateForm()},Wt.prototype.toggleEnvironmentExternal=function(t){var e=document.getElementById("deployment_type");e.style.display="cloud"===t?"none":"block"},Wt.prototype.setupEnvironmentListeners=function(){var t=this,e=document.getElementsByClassName("uriwriter__toggle"),n=this.loadState(this.loadCurrentState()).env;"Atlas (Cloud) v. 3.6"!==n&&"Atlas (Cloud) v. 3.4"!==n||(n="Atlas (Cloud)");for(var a=0;a<e.length;a+=1)n===e[a].innerHTML&&e[a].classList.add("guide__pill--active"),e[a].onclick=function(e){for(var n=e.target,a=n.parentElement.children,o=0;o<a.length;o+=1)a[o].classList.remove("guide__pill--active");n.classList.add("guide__pill--active"),t.setEnvironment(n.innerHTML)}},Wt.prototype.renderURI=function(){"Atlas (Cloud)"===this.loadState(this.loadCurrentState()).env&&this.addValue("env","Atlas (Cloud) v. 3.6");var t=Rt[this.loadState(this.loadCurrentState()).env];t&&(this.uristring=t.template,this.options=t.options,this.urireplacestring=this.replaceString(this.uristring,"&"),this.urireplacestringShell=this.replaceString(t.templateShell,","),this.urireplacestringPasswordRedactedShell=this.replaceString(t.templatePasswordRedactedShell,","),this.username=this.loadState(this.loadCurrentState()).username,this.writeToPlaceholders())},Wt.prototype.optionStringifier=function(t,e){for(var n=[],a=this.loadState(this.loadCurrentState()),o=0;o<this.options.length;o+=1){var r=this.options[o],i=r.name,s=Ut(a[i],r);s||(s=r.placeholder?r.placeholder:"$["+i+"]"),n.push(i+"="+s)}return n.join(e)},Wt.prototype.replaceString=function(t,e){var n=this.loadState(this.loadCurrentState());n.username&&(t=t.replace("$[username]",n.username)),n.database&&(t=t.replace("$[database]",n.database)),n.authSource&&(t=t.replace("$[authSource]",n.authSource)),n.replicaSet&&(t=t.replace("$[replicaSet]",n.replicaSet));var a=this.optionStringifier(this.options,e);return a.length>0&&(t=t.replace("$[options]",a)),n.hostlist&&n.hostlist.length>0&&(t=t.replace("$[hostlist]",n.hostlist.join(","))),t},Wt.prototype.renderOptions=function(){for(var t=document.getElementsByClassName("uriwriter__option-prompt");t.length>0;)t[0].parentElement.removeChild(t[0]);if(this.options&&this.options.length>0)for(var e=0;e<this.options.length;e+=1)"pass-through"!==this.options[e].type&&this.renderOption(this.options[e])},Wt.prototype.renderOption=function(t){var e=this,n=document.createElement("label");n.className="mongodb-form__prompt uriwriter__option-prompt";var a=document.createElement("div");a.className="mongodb-form__label",a.innerText=t.name;var o=document.createElement("input");o.setAttribute("id",t.name),t.placeholder&&o.setAttribute("placeholder",t.placeholder),o.className="mongodb-form__input",void 0!==this.loadState(this.loadCurrentState())[t.name]&&(o.value=this.loadState(this.loadCurrentState())[t.name]),o.addEventListener("input",function(n){e.addValue(t.name,document.getElementById(t.name).value),e.renderURI()}),n.appendChild(a),n.appendChild(o);var r=document.querySelector("[data-server-configuration]");r.parentElement.insertBefore(n,r)},Wt.prototype.initializeWidget=function(){var t=this;if(document.getElementById("uriwriter")){this.hostList=new Pt(document.getElementById("hostlist"),this),document.getElementById("uriwriter_username").addEventListener("input",function(e){t.addValue("username",e.target.value),t.renderURI()});var e=document.getElementById("uriwriter_atlaspaste"),n=document.getElementsByClassName("atlascontrols__status")[0];e.oninput=function(a){var o=e.value;if(!o.trim())return n.style.display="none",void e.setCustomValidity("");t.parseIncomingAtlasString(o)?(e.setCustomValidity(""),t.addValue("atlaspasteduri",o),function(t){t.classList.add("mongodb-form__status--good"),t.classList.remove("mongodb-form__status--invalid"),t.style.display="",t.innerText="Connection string parsed"}(n),t.renderURI(),t.populateForm()):(e.setCustomValidity("Failed to parse"),function(t){t.classList.add("mongodb-form__status--invalid"),t.classList.remove("mongodb-form__status--good"),t.style.display="",t.innerText="Connection string could not be parsed"}(n))},document.getElementById("uriwriter_db").addEventListener("input",function(e){t.addValue("database",document.getElementById("uriwriter_db").value),t.renderURI()}),this.setupEnvironmentListeners(),this.populateForm()}},Wt.prototype.renderFormValues=function(){var t=this.loadState(this.loadCurrentState()),e=document.getElementsByClassName("uriwriter__atlascontrols")[0];if("local MongoDB"!==t.env&&"local MongoDB with replica set"!==t.env)return document.getElementById("uriwriter_atlaspaste").value=t.atlaspasteduri||"",void 0!==t.atlaspasteduri?e.style.display="":e.style.display="none",document.getElementById("userinfo_form").style.display="none",void(e.style.display="");e.style.display="none",document.getElementById("userinfo_form").style.display="",void 0!==t.username&&(document.getElementById("uriwriter_username").value=t.username),void 0!==t.database&&(document.getElementById("uriwriter_db").value=t.database)},Wt.prototype.setHosts=function(t){var e=this.loadState(this.loadCurrentState());e.hostlist=t,this.saveState(e,this.loadCurrentState()),this.renderURI()},Wt.prototype.populateForm=function(){this.toggleEnvironmentExternal(this.loadCurrentState()),this.renderOptions(),this.renderFormValues(),this.hostList=new Pt(document.getElementById("hostlist"),this)},Wt.prototype.registerDispatch=function(){var t=this;tt.listen(function(e){if(Vt&&(t.renderURI(),"cloud"===e.type)){if("cloud"===e.tabId){if("cloud"===t.loadCurrentState())return;t.saveCurrentState("cloud"),t.loadTemplateEnv(),t.renderURI()}else{if("local"===t.loadCurrentState())return;t.saveCurrentState("local"),t.loadTemplateEnv(),t.renderURI()}Boolean(document.getElementById("uriwriter"))&&t.populateForm()}})},Wt.prototype.parseOutShellParams=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].startsWith("--")&&!t[n+1].startsWith("--")){var a=t[n].replace("--",""),o=t[n+1];"authenticationDatabase"===a&&(a="authSource"),o.startsWith("--")||(o=o.replace("<","").replace(">",""),e[a]=o)}},Wt.prototype.parseOutURIParams=function(t,e){for(var n=t.split("&"),a=0;a<n.length;a+=1){var o=n[a].split("=");e[o[0]]=o[1]}},Wt.prototype.parseOutEnvAndClusters=function(t,e){var n=/(\w+):\/\/((\S+)(:)+(\S+))\/(\w+)?\?(\S+)/;t.startsWith("mongodb+srv")&&(n=/((\w+)\+(\w+)):\/\/((\S+))\/(\w+)/);var a=t.match(n);if("mongodb"===a[1]){e.env="Atlas (Cloud) v. 3.4";var o=a[2];e.hostlist=o.split(","),this.parseOutURIParams(a[7],e)}else e.env="Atlas (Cloud) v. 3.6",e.hostlist=[a[4]];e.database=a[6]},Wt.prototype.parseShell=function(t,e){var n=t.split(" "),a=n[1];return a=a.replace(/"/g,""),this.parseOutShellParams(n,e),this.parseOutEnvAndClusters(a,e),this.saveState(e,"cloud"),!0},Wt.prototype.parseIncomingAtlasString=function(t){if(void 0===t)return!1;if(null!==(t=t.replace(/[\n\r]+/g,"").trim())){var e=this.parseAtlasString(t);return this.hostList.updateHostsFromUriWriter(),e}return!1},Wt.prototype.parseTo3dot4=function(t,e){e.env="Atlas (Cloud) v. 3.4",this.saveState(e,"cloud"),e=this.loadState(this.loadCurrentState());var n=t.match(/(\S+):\/\/(\S+):(\S*)@(\S+)\/(\S+)\?(\S+)/);return!!n&&(e.username=n[2],e.hostlist=n[4].split(","),e.database=n[5],function(t,e){var n=e.split("&");if(n.length>0)for(var a=0;a<n.length;a+=1){var o=n[a].split("=");t[o[0]]=o[1]}}(e,n[6]),this.saveState(e,this.loadCurrentState()),!0)},Wt.prototype.parseTo3dot6=function(t,e){e.env="Atlas (Cloud) v. 3.6",this.saveState(e,"cloud"),e=this.loadState(this.loadCurrentState());var n=t.match(/(\S+):\/\/(\S+):(\S*)@(\S+)\/([^\s?]+)\?/);return!!n&&(e.username=n[2],e.havePassword=Boolean(n[3]),e.hostlist=[n[4]],e.database=n[5],this.saveState(e,this.loadCurrentState()),!0)},Wt.prototype.parseAtlasString=function(t){var e=this.loadState("true");return t.indexOf(" --")>-1?this.parseShell(t,e):t.startsWith("mongodb+srv")?this.parseTo3dot6(t,e):this.parseTo3dot4(t,e)};var Ft=Object.freeze({setup:function(){(Vt=new Wt).initializeWidget()}});var zt=Object.freeze({setup:function(){$(".version-selector").on("click",function(t){t.preventDefault();var e=$(t.currentTarget).data("path");window.location.href=function(t){var e=document.getElementsByClassName("body")[0].getAttribute("data-pagename");return"index"===e?e="":e&&(e+="/"),"/"+t+"/"+e}(e)})}}),Qt=function(){this.components=[]};Qt.prototype.register=function(t){this.components.push(t),t.init&&t.init()},Qt.prototype.update=function(){for(var t=0,e=this.components;t<e.length;t+=1){e[t].setup(this)}};var Jt=new Qt;$(function(){jQuery.fn.load=function(t){$(window).on("load",t)},Bt(),Jt.register(r),Jt.register(h),Jt.register(m),Jt.register(Z),Jt.register(yt),Jt.register(xt),Jt.register(Nt),Jt.register(rt),Jt.register(zt),Jt.register($t),Jt.register(ct),Jt.register(Ct),Jt.register(Ft),Jt.register(Ht),Jt.register(a),Jt.register(n),$(".toc > ul > li > ul > li").length||$(".right-column .toc").hide(),$(".expand-toc-icon").on("click",function(t){t.preventDefault(),$(".sidebar").toggleClass("reveal")});var t=$(window),e=$(".sidebar"),o=t.width()<=1093;function i(){location.hash&&document.getElementById(location.hash.substr(1))&&$(window).scrollTop(window.scrollY-75)}if(t.resize(function(n){o&&t.width()>1093?(o=!1,e.removeClass("reveal")):!o&&t.width()<=1093&&(o=!0)}),window.addEventListener("hashchange",i),location.hash&&window.setTimeout(i,10),$(".content").on("click","a",function(t){$(t.currentTarget).attr("href")===location.hash&&window.setTimeout(i,10)}),Jt.update(),document.querySelector){var s=document.querySelector("a.current");s&&s.scrollIntoView(!1)}})}();
//# sourceMappingURL=controller.js.map
